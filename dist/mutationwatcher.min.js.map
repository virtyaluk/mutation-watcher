{"version":3,"file":"mutationwatcher.min.js","sources":["../MutationWatcher.js"],"names":["root","factory","define","amd","module","exports","MutationWatcher","this","_elp","Element","prototype","_isAr","Array","isArray","MutationObserver","WebKitMutationObserver","MozMutationObserver","_matches","matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","matchesSelector","_isObj","obj","_isFn","constructor","call","apply","_arrOrNull","filter","arguments","e","_isUndef","o","_customEventsNames","attributes","elements","characterData","_triggerEvent","target","name","data","event","CustomEvent","detail","ex","document","createEvent","initCustomEvent","dispatchEvent","_getMutationData","mr","md","props","forEach","prop","type","attributeName","attrName","oldValue","prevValue","attributeChange","attrChange","relatedNode","addedNodes","removedNodes","nextSibling","previousSibling","_testEl","sequence","el","length","_publisher","mutationData","cond","that","mutation","_config","attributeFilter","indexOf","childList","matchElements","newValue","nodeValue","parentNode","matchCharacterDataElements","subtree","_target","allowCustomEvents","customEventsNames","_callback","_records","push","_takeRecords","r","slice","splice","_setConfig","characterDataOldValue","attributeOldValue","matchAttributes","_getConfig","opt","options","all","toSet","Node","querySelector","_watch","_isObserving","disconnect","_mutationObserver","mutations","observe","addEventListener","_disconnect","removeEventListener","callback","customEvents","bind","watch","takeRecords"],"mappings":"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"}